@model MedCenter.DTOs.TurnoCancelDTO
@{
    ViewData["Title"] = "Cancelar Turno";
    Layout = "~/Views/Shared/_PacienteLayout.cshtml";
}

<div class="row">
    <div class="col-12">
        <div class="card border-0 shadow-sm">
            <div class="card-header bg-white border-0 py-3">
                <div class="d-flex justify-content-between align-items-center">
                    <h5 class="mb-0 fw-semibold">
                        <i class="fas fa-calendar-times me-2 text-danger"></i>
                        Cancelar Turno
                    </h5>
                </div>
            </div>

            <div class="card-body">
                <h6 class="fw-semibold">Detalles del Turno</h6>
                <div class="table-responsive mb-3">
                    <table class="table table-borderless mb-0">
                        <tbody>
                            <tr>
                                <th class="text-end" style="width: 25%;">Fecha:</th>
                                <td>@Model.Fecha</td>
                            </tr>
                            <tr>
                                <th class="text-end">Hora:</th>
                                <td>@Model.Hora</td>
                            </tr>
                            @*<tr>
                                <th class="text-end">Paciente:</th>
                                <td>@Model.PacienteNombre</td>
                            </tr>
                            *@
                            <tr>
                                <th class="text-end">Médico:</th>
                                <td>@Model.MedicoNombre</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <form asp-asp-controller = "Turno" asp-action="Cancelar" method="post">
                    <input type="hidden" asp-for="Id" /> 
                    <input type="hidden" asp-for="Fecha" />
                    <input type="hidden" asp-for="Hora" />
                    @*<input type="hidden" asp-for="PacienteNombre" />*@
                    <input type="hidden" asp-for="MedicoNombre" />
                    
                    <div class="form-group mt-3">
                        <label for="MotivoCancelacion" class="form-label fw-semibold text-secondary">Motivo de Cancelación</label>
                        <textarea asp-for="MotivoCancelacion"
                            class="form-control border rounded-3 shadow-sm bg-white text-dark"
                            style="resize:none;"
                            rows="3"
                            placeholder="Escriba el motivo de cancelación..."></textarea>
                        <span asp-validation-for="MotivoCancelacion" class="text-danger small"></span>
                    </div>


                    
                    <div class="mt-4 d-flex gap-2">
                        <button type="submit" class="btn btn-danger">
                            <i class="fas fa-times me-1"></i> Confirmar Cancelación
                        </button>
                        <a asp-controller = "Turno" asp-action="GestionarTurnos" asp-route-id="" class="btn btn-secondary"><!--asp-route-id="" envia null all metodo CancelarTurno de la controladora, entonces en ese metodo id == null -->
                            <i class="fas fa-arrow-left me-1"></i> Volver a la Lista
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<style>
    /* Estilo para esta vista */
    .card-body table th {
        width: 30%;
        font-weight: 600;
        color: #6c757d;
        text-transform: uppercase;
        font-size: 0.85rem;
    }

    .card-body table td {
        font-size: 0.9rem;
    }

    .form-control {
        border-radius: 0.35rem;
    }

    .btn-danger {
        min-width: 180px;
    }

    .btn-secondary {
        min-width: 150px;
    }
</style>
